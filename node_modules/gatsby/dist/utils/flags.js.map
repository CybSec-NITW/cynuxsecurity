{"version":3,"sources":["../../src/utils/flags.ts"],"names":["activeFlags","name","env","command","telemetryId","experimental","description","includedFlags","umbrellaIssue","noCi"],"mappings":";;;;AAAA;AAwBA,MAAMA,WAAyB,GAAG,CAChC;AACEC,EAAAA,IAAI,EAAG,UADT;AAEEC,EAAAA,GAAG,EAAG,8BAFR;AAGEC,EAAAA,OAAO,EAAG,SAHZ;AAIEC,EAAAA,WAAW,EAAG,SAJhB;AAKEC,EAAAA,YAAY,EAAE,KALhB;AAMEC,EAAAA,WAAW,EAAG,qEANhB;AAOEC,EAAAA,aAAa,EAAE,CACZ,SADY,EAEZ,iBAFY,EAGZ,aAHY,EAIZ,8BAJY,EAKZ,wBALY;AAPjB,CADgC,EAgBhC;AACEN,EAAAA,IAAI,EAAG,SADT;AAEEC,EAAAA,GAAG,EAAG,6BAFR;AAGEC,EAAAA,OAAO,EAAG,SAHZ;AAIEC,EAAAA,WAAW,EAAG,QAJhB;AAKEC,EAAAA,YAAY,EAAE,KALhB;AAMEC,EAAAA,WAAW,EAAG,qHANhB;AAOEE,EAAAA,aAAa,EAAG;AAPlB,CAhBgC,EAyBhC;AACEP,EAAAA,IAAI,EAAG,iBADT;AAEEC,EAAAA,GAAG,EAAG,qCAFR;AAGEC,EAAAA,OAAO,EAAG,SAHZ;AAIEC,EAAAA,WAAW,EAAG,eAJhB;AAKEC,EAAAA,YAAY,EAAE,KALhB;AAMEC,EAAAA,WAAW,EAAG,0GANhB;AAOEE,EAAAA,aAAa,EAAG,6CAPlB;AAQEC,EAAAA,IAAI,EAAE;AARR,CAzBgC,EAmChC;AACER,EAAAA,IAAI,EAAG,aADT;AAEEC,EAAAA,GAAG,EAAG,iCAFR;AAGEC,EAAAA,OAAO,EAAG,SAHZ;AAIEC,EAAAA,WAAW,EAAG,qBAJhB;AAKEC,EAAAA,YAAY,EAAE,IALhB;AAMEC,EAAAA,WAAW,EAAG,qKANhB;AAOEE,EAAAA,aAAa,EAAG;AAPlB,CAnCgC,EA4ChC;AACEP,EAAAA,IAAI,EAAG,wBADT;AAEEC,EAAAA,GAAG,EAAG,4CAFR;AAGEC,EAAAA,OAAO,EAAG,KAHZ;AAIEC,EAAAA,WAAW,EAAG,sBAJhB;AAKEC,EAAAA,YAAY,EAAE,KALhB;AAMEC,EAAAA,WAAW,EAAG,qFANhB;AAOEE,EAAAA,aAAa,EAAG;AAPlB,CA5CgC,EAqDhC;AACEP,EAAAA,IAAI,EAAG,8BADT;AAEEC,EAAAA,GAAG,EAAG,kDAFR;AAGEC,EAAAA,OAAO,EAAG,KAHZ;AAIEC,EAAAA,WAAW,EAAG,2BAJhB;AAKEC,EAAAA,YAAY,EAAE,KALhB;AAMEC,EAAAA,WAAW,EAAG,gGANhB;AAOEE,EAAAA,aAAa,EAAG;AAPlB,CArDgC,EA8DhC;AACEP,EAAAA,IAAI,EAAG,cADT;AAEEC,EAAAA,GAAG,EAAG,qBAFR;AAGEC,EAAAA,OAAO,EAAG,SAHZ;AAIEC,EAAAA,WAAW,EAAG,aAJhB;AAKEC,EAAAA,YAAY,EAAE,KALhB;AAMEC,EAAAA,WAAW,EAAG,iKANhB;AAOEE,EAAAA,aAAa,EAAG;AAPlB,CA9DgC,CAAlC;eAyEeR,W","sourcesContent":["// Does this experiment run for only builds\ntype executingCommand = \"build\" | \"develop\" | \"all\"\n\nexport interface IFlag {\n  name: string\n  env: string\n  description: string\n  command: executingCommand\n  telemetryId: string\n  // Heuristics for deciding if a flag is experimental:\n  // - there are known bugs most people will encounter and that block being\n  // able to use Gatsby normally\n  // - very few people have tested the feature so we're not sure if we've\n  // uncovered even common problems.\n  //\n  // Flags should start as experimental but once all serious known bugs are\n  // resolved and ~50+ people have tested it, experimental should be set to\n  // false.\n  experimental: boolean\n  includedFlags?: Array<string>\n  umbrellaIssue?: string\n  noCi?: boolean\n}\n\nconst activeFlags: Array<IFlag> = [\n  {\n    name: `FAST_DEV`,\n    env: `GATSBY_EXPERIMENTAL_FAST_DEV`,\n    command: `develop`,\n    telemetryId: `FastDev`,\n    experimental: false,\n    description: `Enable all experiments aimed at improving develop server start time`,\n    includedFlags: [\n      `DEV_SSR`,\n      `QUERY_ON_DEMAND`,\n      `LAZY_IMAGES`,\n      `PRESERVE_FILE_DOWNLOAD_CACHE`,\n      `PRESERVE_WEBPACK_CACHE`,\n    ],\n  },\n  {\n    name: `DEV_SSR`,\n    env: `GATSBY_EXPERIMENTAL_DEV_SSR`,\n    command: `develop`,\n    telemetryId: `DevSsr`,\n    experimental: false,\n    description: `SSR pages on full reloads during develop. Helps you detect SSR bugs and fix them without needing to do full builds.`,\n    umbrellaIssue: `https://gatsby.dev/dev-ssr-feedback`,\n  },\n  {\n    name: `QUERY_ON_DEMAND`,\n    env: `GATSBY_EXPERIMENTAL_QUERY_ON_DEMAND`,\n    command: `develop`,\n    telemetryId: `QueryOnDemand`,\n    experimental: false,\n    description: `Only run queries when needed instead of running all queries upfront. Speeds starting the develop server.`,\n    umbrellaIssue: `https://gatsby.dev/query-on-demand-feedback`,\n    noCi: true,\n  },\n  {\n    name: `LAZY_IMAGES`,\n    env: `GATSBY_EXPERIMENTAL_LAZY_IMAGES`,\n    command: `develop`,\n    telemetryId: `LazyImageProcessing`,\n    experimental: true,\n    description: `Don't process images during development until they're requested from the browser. Speeds starting the develop server. Requires gatsby-plugin-sharp@2.10.0 or above.`,\n    umbrellaIssue: `https://gatsby.dev/lazy-images-feedback`,\n  },\n  {\n    name: `PRESERVE_WEBPACK_CACHE`,\n    env: `GATSBY_EXPERIMENTAL_PRESERVE_WEBPACK_CACHE`,\n    command: `all`,\n    telemetryId: `PreserveWebpackCache`,\n    experimental: false,\n    description: `Don't delete webpack's cache when changing gatsby-node.js & gatsby-config.js files.`,\n    umbrellaIssue: `https://gatsby.dev/cache-clearing-feedback`,\n  },\n  {\n    name: `PRESERVE_FILE_DOWNLOAD_CACHE`,\n    env: `GATSBY_EXPERIMENTAL_PRESERVE_FILE_DOWNLOAD_CACHE`,\n    command: `all`,\n    telemetryId: `PreserveFileDownloadCache`,\n    experimental: false,\n    description: `Don't delete the downloaded files cache when changing gatsby-node.js & gatsby-config.js files.`,\n    umbrellaIssue: `https://gatsby.dev/cache-clearing-feedback`,\n  },\n  {\n    name: `FAST_REFRESH`,\n    env: `GATSBY_FAST_REFRESH`,\n    command: `develop`,\n    telemetryId: `FastRefresh`,\n    experimental: false,\n    description: `Use React Fast Refresh instead of the legacy react-hot-loader for instantaneous feedback in your development server. Recommended for versions of React >= 17.0.`,\n    umbrellaIssue: `https://gatsby.dev/fast-refresh-feedback`,\n  },\n]\n\nexport default activeFlags\n"],"file":"flags.js"}