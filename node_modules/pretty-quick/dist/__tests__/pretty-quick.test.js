"use strict";

var _mockFs = _interopRequireDefault(require("mock-fs"));

var _ = _interopRequireDefault(require(".."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

jest.mock('execa');
afterEach(() => _mockFs.default.restore());
test('throws an error when no vcs is found', () => {
  (0, _mockFs.default)({
    'root/README.md': ''
  });
  expect(() => (0, _.default)('root')).toThrow('Unable to detect a source control manager.');
});